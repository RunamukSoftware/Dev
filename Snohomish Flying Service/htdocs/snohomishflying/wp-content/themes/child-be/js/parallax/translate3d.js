var mfnSetup={translate:null};(function(c){var b=function(){if(!window.getComputedStyle){return false}var g=document.createElement("div"),h,f={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(g,null);for(var e in f){if(g.style[e]!==undefined){g.style[e]="translate3d(1px,1px,1px)";h=window.getComputedStyle(g).getPropertyValue(f[e])}}document.body.removeChild(g);return(h!==undefined&&h!==null&&h.length>0&&h!=="none")};var a=function(){var f=document.createElement("div"),h=["ms","O","Webkit","Moz"],e,g;for(e in h){if(f.style[h[e]+"Transition"]!==undefined){g=h[e];break}}return g};var d=function(){if(b()){mfnSetup.translate=function(f,e,g){f.css("-"+a()+"-transform","translate3d("+e+", "+g+", 0)")}}else{mfnSetup.translate=function(f,e,g){f.css({left:e,top:g})}}};d()})(jQuery);(function(a){a.fn.mfnParallax=function(){var c=a(this),j=c.parent(),d=500,f,h,i;var g=function(n){var u,o,m,x;var v=n.get(0).naturalWidth;var p=n.get(0).naturalHeight;var y=n.parent().outerWidth();var q=n.parent().outerHeight();var r=a(window).height();if(r>q){q=r}var s=v/y;if((p/s)<q){u=v/(p/q);o=q;if(u>v){u=v;o=p}}else{u=y;o=p/s}m=(y-u)/2;x=(q-o)/2;return[u,o,m,x]};var e=function(){var n=a(window).scrollTop(),o,l,m;if(h!==undefined){if(n>=h.min&&n<=h.max){o=n-h.min;l=o/h.height;m=i+(l*d)-o-(d*(i/h.height));mfnSetup.translate(c,f.left+"px",-Math.round(m)+"px")}}};var k=function(){i=a(window).height();var l=function(){var n=g(c);c.removeAttr("style").css({width:n[0],height:n[1]});mfnSetup.translate(c,n[2]+"px",n[3]+"px");return{width:n[0],height:n[1],left:n[2],top:n[3]}};f=l();var m=function(){var o=j.offset().top-a(window).height();var n=j.offset().top+a(j).outerHeight();return{min:o,max:n,height:n-o}};h=m()};var b=function(){setTimeout(function(){k();e()},200)};a(window).bind("load resize",b);a(window).bind("scroll",e)};a(document).ready(function(){if(a(".mfn-parallax").length){a(".mfn-parallax").each(function(){a(this).mfnParallax()})}})})(jQuery);